<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Content Creator | Êô∫ËÉΩÂàõ‰ΩúÂä©Êâã</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/static/css/style.css">
</head>

<body>
    <!-- Âä®ÊÄÅËÉåÊôØÁîªÂ∏É -->
    <canvas id="bg-canvas"></canvas>

    <!-- Âô™ÁÇπÈÅÆÁΩ©ÔºåÂ¢ûÂä†Ë¥®ÊÑü -->
    <div class="noise-overlay"></div>

    <div class="app-container">
        <!-- Â∑¶‰æßÊÇ¨ÊµÆÂØºËà™Ê†è -->
        <nav class="sidebar">
            <div class="brand">
                <div class="logo-icon">‚ú®</div>
                <span class="brand-text">Creator</span>
            </div>

            <div class="nav-items">
                <button class="nav-item active" data-target="home" title="Âàõ‰Ωú‰∏≠ÂøÉ">
                    <span class="icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                            <polyline points="9 22 9 12 15 12 15 22"></polyline>
                        </svg>
                    </span>
                    <span class="label">Âàõ‰Ωú</span>
                </button>
                <button class="nav-item" data-target="trending" title="ÁÉ≠ÁÇπÂèëÁé∞">
                    <span class="icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <line x1="12" y1="1" x2="12" y2="23"></line>
                            <path
                                d="M17 5H9.5a4.5 4.5 0 0 0-4.5 4.5v0A4.5 4.5 0 0 0 9.5 14H14.5a4.5 4.5 0 0 1 4.5 4.5v0a4.5 4.5 0 0 1-4.5 4.5H9">
                            </path>
                        </svg>
                    </span>
                    <span class="label">ÁÉ≠ÁÇπ</span>
                </button>
                <button class="nav-item" onclick="openModal('history')" title="‰ªªÂä°ÂéÜÂè≤">
                    <span class="icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 20h9"></path>
                            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
                        </svg>
                    </span>
                    <span class="label">ÂéÜÂè≤</span>
                </button>
                <button class="nav-item" onclick="openModal('config')" title="Á≥ªÁªüËÆæÁΩÆ">
                    <span class="icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path
                                d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
                            </path>
                        </svg>
                    </span>
                    <span class="label">ËÆæÁΩÆ</span>
                </button>
            </div>

            <div class="user-profile">
                <div class="avatar">üë§</div>
            </div>
        </nav>

        <!-- ‰∏ªÂÜÖÂÆπÂå∫Âüü -->
        <main class="main-content">
            <!-- Âàõ‰Ωú‰∏≠ÂøÉËßÜÂõæ -->
            <section id="view-home" class="view-section active">
                <div class="hero-section">
                    <h1 class="hero-title">What will you create today?</h1>
                    <p class="hero-subtitle">AI È©±Âä®ÁöÑÊô∫ËÉΩÂÜÖÂÆπÂàõ‰ΩúÂºïÊìé</p>

                    <div class="creation-input-wrapper">
                        <div class="glass-input-container">
                            <input type="text" id="topic-input" placeholder="ËæìÂÖ•‰∏ªÈ¢òÔºåÂºÄÂßãÂàõ‰Ωú..." autocomplete="off">
                            <button class="btn-magic" onclick="startGenerate()">
                                <span class="icon">‚ú®</span> ÁîüÊàê
                            </button>
                        </div>

                        <div class="creation-options">
                            <label class="radio-glass">
                                <input type="radio" name="content-type" value="general" checked>
                                <span class="radio-label">ÈÄöÁî®Âàõ‰Ωú</span>
                            </label>
                            <label class="radio-glass">
                                <input type="radio" name="content-type" value="paper_analysis">
                                <span class="radio-label">ËÆ∫ÊñáËß£ËØª</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- ÂΩìÂâç‰ªªÂä°Áä∂ÊÄÅÂç°Áâá (Âä®ÊÄÅÊèíÂÖ•) -->
                <div id="current-task-container" class="task-status-wrapper"></div>
            </section>

            <!-- ÁÉ≠ÁÇπÂèëÁé∞ËßÜÂõæ -->
            <section id="view-trending" class="view-section">
                <div class="section-header">
                    <h2>‰ªäÊó•ÁÉ≠ÁÇπ</h2>
                    <div class="domain-tabs">
                        <button class="tab-glass active" onclick="fetchTrendingTopicsByDomain('AI')">
                            <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="11" width="18" height="10" rx="2"></rect>
                                <circle cx="12" cy="5" r="2"></circle>
                                <path d="M12 7v4"></path>
                                <line x1="8" y1="16" x2="8" y2="16"></line>
                                <line x1="16" y1="16" x2="16" y2="16"></line>
                            </svg>
                            AI
                        </button>
                        <button class="tab-glass" onclick="fetchTrendingTopicsByDomain('ËûçËµÑ')">
                            <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="1" x2="12" y2="23"></line>
                                <path
                                    d="M17 5H9.5a4.5 4.5 0 0 0-4.5 4.5v0A4.5 4.5 0 0 0 9.5 14H14.5a4.5 4.5 0 0 1 4.5 4.5v0a4.5 4.5 0 0 1-4.5 4.5H9">
                                </path>
                            </svg>
                            ËûçËµÑ
                        </button>
                        <button class="tab-glass" onclick="fetchTrendingTopicsByDomain('ËÆ∫Êñá')">
                            <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="16" y1="13" x2="8" y2="13"></line>
                                <line x1="16" y1="17" x2="8" y2="17"></line>
                                <polyline points="10 9 9 9 8 9"></polyline>
                            </svg>
                            ËÆ∫Êñá
                        </button>
                        <button class="tab-glass" onclick="fetchTrendingTopicsByDomain('Êú∫Âô®‰∫∫')">
                            <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 8V4H8"></path>
                                <rect x="4" y="8" width="16" height="12" rx="2"></rect>
                                <path d="M2 14h2"></path>
                                <path d="M20 14h2"></path>
                                <path d="M15 13v2"></path>
                                <path d="M9 13v2"></path>
                            </svg>
                            Êú∫Âô®‰∫∫
                        </button>
                    </div>
                </div>

                <div class="url-extract-bar">
                    <input type="text" id="url-input" placeholder="ÊàñÁ≤òË¥¥ÁΩëÈ°µÈìæÊé•ÊèêÂèñ‰∏ªÈ¢ò..." class="input-glass-sm">
                    <button class="btn-glass-sm" onclick="fetchTopicsFromUrl()">ÊèêÂèñ</button>
                </div>

                <div id="topic-toolbar" class="topic-toolbar" style="display: none;">
                    <button id="btn-select-all" class="btn-text-sm" onclick="toggleSelectAll()">
                        <span class="icon">‚úì</span> ÂÖ®ÈÄâÊâÄÊúâ
                    </button>
                </div>

                <div id="trending-grid" class="cards-grid">
                    <!-- ÁÉ≠ÁÇπÂç°ÁâáÂ∞ÜÈÄöËøá JS Âä®ÊÄÅÊèíÂÖ• -->
                    <div class="empty-state-glass">
                        <span class="icon">üåä</span>
                        <p>ÈÄâÊã©‰∏Ä‰∏™È¢ÜÂüüÔºåÊé¢Á¥¢‰ªäÊó•ÁÉ≠ÁÇπ</p>
                    </div>
                </div>

                <div id="batch-actions" class="floating-action-bar" style="display: none;">
                    <span id="selected-count">Â∑≤ÈÄâ 0 È°π</span>
                    <button class="btn-primary-glass" onclick="batchGenerate()">ÊâπÈáèÁîüÊàê</button>
                </div>
            </section>
        </main>
    </div>

    <!-- Ê®°ÊÄÅÊ°ÜÂÆπÂô® -->
    <div id="modal-overlay" class="modal-overlay">
        <!-- ÈÖçÁΩÆÊ®°ÊÄÅÊ°Ü -->
        <div id="modal-config" class="modal-glass">
            <div class="modal-header">
                <h3>Á≥ªÁªüËÆæÁΩÆ</h3>
                <button class="btn-close" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>LLM API Key</label>
                    <input type="password" id="llm_api_key" class="input-glass" placeholder="sk-...">
                </div>
                <div class="form-group">
                    <label>Base URL</label>
                    <input type="text" id="openai_base_url" class="input-glass" placeholder="https://api.openai.com/v1">
                </div>
                <div class="form-group">
                    <label>Model Name</label>
                    <div class="input-with-action">
                        <input type="text" id="default_model" class="input-glass"
                            placeholder="claude-3-5-sonnet-20240620">
                        <button class="btn-text" onclick="validateModel()">È™åËØÅ</button>
                    </div>
                    <span id="model-status" class="status-text"></span>
                </div>
                <div class="form-divider"></div>
                <div class="form-group">
                    <label>Â∞èÁ∫¢‰π¶ MCP Âú∞ÂùÄ</label>
                    <div class="input-with-action">
                        <input type="text" id="xhs_mcp_url" class="input-glass"
                            placeholder="http://localhost:18060/mcp">
                        <button class="btn-text" onclick="testConnection()">ÊµãËØï</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>Jina API Key (Optional)</label>
                    <input type="password" id="jina_api_key" class="input-glass">
                </div>
                <div class="form-group">
                    <label>Tavily API Key (Optional)</label>
                    <input type="password" id="tavily_api_key" class="input-glass" placeholder="key1,key2 (Â§ö‰∏™keyÁî®ÈÄóÂè∑ÂàÜÈöî)">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-primary-glass full-width" onclick="saveConfig()">‰øùÂ≠òÈÖçÁΩÆ</button>
            </div>
        </div>

        <!-- ÂéÜÂè≤ËÆ∞ÂΩïÊ®°ÊÄÅÊ°Ü -->
        <div id="modal-history" class="modal-glass modal-lg">
            <div class="modal-header">
                <h3>‰ªªÂä°ÂéÜÂè≤</h3>
                <div class="header-actions">
                    <div class="segment-control">
                        <button class="segment-btn active" onclick="applyFilter('all')">ÂÖ®ÈÉ®</button>
                        <button class="segment-btn" onclick="applyFilter('success')">ÊàêÂäü</button>
                        <button class="segment-btn" onclick="applyFilter('error')">Â§±Ë¥•</button>
                    </div>
                    <button class="btn-close" onclick="closeModal()">√ó</button>
                </div>
            </div>
            <div class="modal-body scrollable" id="history-list">
                <!-- ÂéÜÂè≤ËÆ∞ÂΩïÂàóË°® -->
            </div>
        </div>

        <!-- ÁªìÊûúËØ¶ÊÉÖÊ®°ÊÄÅÊ°Ü -->
        <div id="modal-result" class="modal-glass modal-lg">
            <div class="modal-header">
                <h3>ÂèëÂ∏ÉËØ¶ÊÉÖ</h3>
                <button class="btn-close" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body scrollable">
                <div class="result-content-wrapper">
                    <h2 id="res-title" class="res-title"></h2>
                    <div class="res-meta">
                        <span id="res-time" class="tag-glass"></span>
                        <div id="res-tags" class="tags-wrapper"></div>
                    </div>
                    <div id="res-images" class="images-grid"></div>
                    <div id="res-content" class="article-content"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast ÈÄöÁü•ÂÆπÂô® -->
    <div id="toast-container"></div>

    <script src="/static/js/app.js"></script>
</body>

</html>