{
  "name": "å°çº¢ä¹¦ï½œç¬”è®°å…‹éš†ç”Ÿæˆå‘å¸ƒ",
  "nodes": [
    {
      "parameters": {
        "jsCode": "// âš ï¸ ç¡®è®¤å‘å¸ƒæ£€æŸ¥ç‚¹ âš ï¸\n// \n// ğŸ“‹ å‘å¸ƒå‰è¯·ç¡®è®¤ï¼š\n// 1. åœ¨\"HTMLé¢„è§ˆ\"èŠ‚ç‚¹æŸ¥çœ‹ç”Ÿæˆçš„å†…å®¹\n// 2. ç¡®è®¤æ ‡é¢˜ã€æ­£æ–‡ã€æ ‡ç­¾ã€å›¾ç‰‡éƒ½æ­£ç¡®æ— è¯¯\n// 3. ç¡®è®¤åï¼Œæ­¤èŠ‚ç‚¹ä¼šå°†æ­£ç¡®çš„JSONæ•°æ®ä¼ é€’ç»™å‘å¸ƒæµç¨‹\n// \n// ğŸ’¡ æ­¤èŠ‚ç‚¹ä¼šé€ä¼ åŸå§‹æ•°æ®ï¼Œä¸åšä»»ä½•ä¿®æ”¹\n\nconst data = $input.first().json;\n\n// éªŒè¯å¿…éœ€å­—æ®µ\nif (!data.title || !data.content || !data.images || data.images.length === 0) {\n  throw new Error('âŒ æ•°æ®ä¸å®Œæ•´ï¼šç¼ºå°‘å¿…éœ€å­—æ®µï¼ˆtitle/content/imagesï¼‰');\n}\n\n// è¾“å‡ºæ—¥å¿—ä¾›ç¡®è®¤\nconsole.log('ğŸ“‹ å‡†å¤‡å‘å¸ƒçš„å†…å®¹ï¼š');\nconsole.log('æ ‡é¢˜:', data.title);\nconsole.log('æ­£æ–‡é•¿åº¦:', data.content.length, 'å­—');\nconsole.log('æ ‡ç­¾:', data.tags);\nconsole.log('å›¾ç‰‡æ•°é‡:', data.images.length);\nconsole.log('åŸç¬”è®°ID:', data.originalNoteId);\n\n// é€ä¼ åŸå§‹æ•°æ®\nreturn [$input.first().json];"
      },
      "id": "39edc541-7f9b-461b-8652-832de9d2b3b3",
      "name": "âœ…ç¡®è®¤å‘å¸ƒ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3360,
        256
      ]
    },
    {
      "parameters": {
        "endpointUrl": "http://47.109.91.65:18060/mcp",
        "tool": {
          "__rl": true,
          "value": "publish_content",
          "mode": "list",
          "cachedResultName": "publish_content"
        },
        "parameters": {
          "mappingMode": "defineBelow",
          "value": {
            "images": "={{ $('ç»„è£…æœ€ç»ˆå†…å®¹').item.json.images }}",
            "content": "={{ $('ç»„è£…æœ€ç»ˆå†…å®¹').item.json.content }}",
            "title": "={{ $('ç»„è£…æœ€ç»ˆå†…å®¹').item.json.title }}",
            "tags": "={{ $('ç»„è£…æœ€ç»ˆå†…å®¹').item.json.tags }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "content",
              "displayName": "content",
              "defaultMatch": false,
              "required": true,
              "display": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "images",
              "displayName": "images",
              "defaultMatch": false,
              "required": true,
              "display": true,
              "type": "array",
              "defaultValue": "[\n  \"string\"\n]",
              "removed": false
            },
            {
              "id": "tags",
              "displayName": "tags",
              "defaultMatch": false,
              "required": false,
              "display": true,
              "type": "array",
              "defaultValue": "[\n  \"string\"\n]",
              "removed": false
            },
            {
              "id": "title",
              "displayName": "title",
              "defaultMatch": false,
              "required": true,
              "display": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "convertToBinary": true
        }
      },
      "type": "@n8n/n8n-nodes-langchain.mcpClient",
      "typeVersion": 1,
      "position": [
        4256,
        0
      ],
      "id": "ee3c0302-cefa-4015-971c-37d6ed16da49",
      "name": "å‘å¸ƒåˆ°å°çº¢ä¹¦"
    },
    {
      "parameters": {
        "operation": "upsert",
        "dataTableId": {
          "__rl": true,
          "value": "hqQlHmeYfivx3ByD",
          "mode": "list",
          "cachedResultName": "notes",
          "cachedResultUrl": "/projects/ldZnw1KjOTfKmBAE/datatables/hqQlHmeYfivx3ByD"
        },
        "filters": {
          "conditions": [
            {
              "keyName": "=title",
              "keyValue": "={{ $('ç»„è£…æœ€ç»ˆå†…å®¹').item.json.title }}"
            }
          ]
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "title": "={{ $('ç»„è£…æœ€ç»ˆå†…å®¹').item.json.title }}",
            "content": "={{ $('ç»„è£…æœ€ç»ˆå†…å®¹').item.json.content }}",
            "tags": "={{ $('ç»„è£…æœ€ç»ˆå†…å®¹').item.json.tags.join(\",\") }}",
            "images": "={{ $('ç»„è£…æœ€ç»ˆå†…å®¹').item.json.images.join(\",\") }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "title",
              "displayName": "title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "content",
              "displayName": "content",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "tags",
              "displayName": "tags",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "images",
              "displayName": "images",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1.1,
      "position": [
        4256,
        208
      ],
      "id": "dcd3bded-35b2-4730-8200-9d73f96bc749",
      "name": "ä¿å­˜åˆ°æ•°æ®è¡¨"
    },
    {
      "parameters": {
        "resume": "specificTime",
        "dateTime": "={{ $json.query.publishTime || $now }}"
      },
      "id": "eaaf9391-b76e-4027-8d48-e170d5fcbb89",
      "name": "â°å®šæ—¶å‘å¸ƒ",
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        3808,
        0
      ],
      "webhookId": "clone-timer-publish"
    },
    {
      "parameters": {
        "resume": "webhook",
        "options": {}
      },
      "id": "d74d0611-64cb-4be5-b0f9-c92a4718730c",
      "name": "â³ç­‰å¾…ç¡®è®¤",
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        3584,
        0
      ],
      "webhookId": "clone-wait-confirm"
    },
    {
      "parameters": {
        "respondWith": "text",
        "responseBody": "={{ $json.html }}",
        "options": {
          "responseHeaders": {
            "entries": [
              {
                "name": "Content-Type",
                "value": "text/html"
              }
            ]
          }
        }
      },
      "id": "5b1cd32f-a0fd-46ba-bc8a-a854fc588ff4",
      "name": "å‘é€é¢„è§ˆ",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1,
      "position": [
        3360,
        0
      ]
    },
    {
      "parameters": {
        "jsCode": "const data = $input.first().json;\n\n// æ„é€ å›¾ç‰‡ HTML\nconst imagesHtml = data.images\n  .map(url => `<img src=\"${url}\" class=\"slide-img\" />`)\n  .join('');\n  \n// æ„é€ æ ‡ç­¾ HTML\nconst tagsHtml = Array.isArray(data.tags) ? data.tags.join(' ') : data.tags;\n\n// ä¼˜å…ˆä½¿ç”¨ n8n æ³¨å…¥çš„å®˜æ–¹ Resume URL\nconst n8nResumeUrl = $execution.resumeUrl || '';\n\n// æ„é€ å®Œæ•´ HTML é¡µé¢\nconst html = `<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>å°çº¢ä¹¦å…‹éš†ç¬”è®°é¢„è§ˆ</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n\n  <style>\n    body {\n      margin: 0;\n      padding: 20px;\n      background: #f6f6f6;\n      font-family: -apple-system, BlinkMacSystemFont, \"PingFang SC\", Arial;\n    }\n\n    .card {\n      max-width: 420px;\n      margin: 0 auto;\n      background: #fff;\n      border-radius: 14px;\n      overflow: hidden;\n      box-shadow: 0 10px 28px rgba(0,0,0,0.08);\n    }\n\n    /* Carousel Container */\n    .carousel-wrapper {\n      position: relative;\n      background: #000;\n    }\n\n    .images {\n      display: flex;\n      overflow-x: auto;\n      scroll-snap-type: x mandatory;\n      -webkit-overflow-scrolling: touch;\n      scrollbar-width: none; /* Firefox */\n      scroll-behavior: smooth;\n    }\n    .images::-webkit-scrollbar {\n      display: none; /* Chrome/Safari */\n    }\n\n    .images img {\n      width: 100%;\n      height: auto;\n      flex-shrink: 0;\n      scroll-snap-align: center;\n      aspect-ratio: 3/4;\n      object-fit: contain;\n      display: block;\n    }\n\n    /* Navigation Arrows */\n    .nav-btn {\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n        background: rgba(255, 255, 255, 0.2);\n        border: none;\n        border-radius: 50%;\n        width: 32px;\n        height: 32px;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: white;\n        font-size: 18px;\n        transition: background 0.3s;\n        z-index: 10;\n    }\n    .nav-btn:hover {\n        background: rgba(255, 255, 255, 0.4);\n    }\n    .nav-btn.prev { left: 10px; }\n    .nav-btn.next { right: 10px; }\n\n    /* Content Area */\n    .content {\n      padding: 16px;\n    }\n\n    h1 {\n      font-size: 18px;\n      margin: 0 0 12px;\n      line-height: 1.4;\n      font-weight: 600;\n    }\n\n    .text {\n      font-size: 14px;\n      line-height: 1.7;\n      color: #333;\n      white-space: pre-wrap;\n    }\n\n    .tags {\n      margin-top: 12px;\n      color: #1e80ff;\n      font-size: 13px;\n    }\n\n    /* Status Bar */\n    .status {\n      padding: 12px;\n      background: #fafafa;\n      text-align: center;\n      font-size: 13px;\n      color: #666;\n      border-top: 1px solid #eee;\n    }\n\n    /* Action Buttons */\n    .actions {\n      padding: 16px;\n      display: flex;\n      gap: 12px;\n    }\n\n    .btn {\n      flex: 1;\n      padding: 12px;\n      border: none;\n      border-radius: 8px;\n      font-size: 14px;\n      font-weight: 600;\n      cursor: pointer;\n      transition: all 0.3s;\n    }\n\n    .btn-confirm {\n      background: #ff2442;\n      color: white;\n    }\n    .btn-confirm:hover {\n      background: #e02038;\n    }\n\n    .btn-cancel {\n      background: #f5f5f5;\n      color: #666;\n    }\n    .btn-cancel:hover {\n      background: #e8e8e8;\n    }\n\n    /* Publish Time Picker */\n    .time-picker {\n      margin-top: 12px;\n      padding: 12px;\n      background: #f9f9f9;\n      border-radius: 8px;\n    }\n    .time-picker label {\n      display: block;\n      font-size: 13px;\n      color: #666;\n      margin-bottom: 8px;\n    }\n    .time-picker input {\n      width: 100%;\n      padding: 8px 12px;\n      border: 1px solid #ddd;\n      border-radius: 6px;\n      font-size: 14px;\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"card\">\n    <!-- Carousel -->\n    <div class=\"carousel-wrapper\">\n      <div class=\"images\" id=\"carousel\">\n        ${imagesHtml}\n      </div>\n      <button class=\"nav-btn prev\" onclick=\"scrollCarousel(-1)\">â€¹</button>\n      <button class=\"nav-btn next\" onclick=\"scrollCarousel(1)\">â€º</button>\n    </div>\n\n    <!-- Content -->\n    <div class=\"content\">\n      <h1>${data.title}</h1>\n      <div class=\"text\">${data.content}</div>\n      <div class=\"tags\">${tagsHtml}</div>\n    </div>\n\n    <!-- Status -->\n    <div class=\"status\">âœ¨ åŸºäºåŸç¬”è®°å…‹éš†ç”Ÿæˆçš„æ–°å†…å®¹</div>\n\n    <!-- Time Picker -->\n    <div class=\"time-picker\">\n      <label>â° é€‰æ‹©å‘å¸ƒæ—¶é—´ï¼ˆç•™ç©ºåˆ™ç«‹å³å‘å¸ƒï¼‰</label>\n      <input type=\"datetime-local\" id=\"publishTime\" />\n    </div>\n\n    <!-- Actions -->\n    <div class=\"actions\">\n      <button class=\"btn btn-cancel\" onclick=\"cancelPublish()\">å–æ¶ˆ</button>\n      <button class=\"btn btn-confirm\" onclick=\"confirmPublish()\">ç¡®è®¤å‘å¸ƒ</button>\n    </div>\n  </div>\n\n  <script>\n    // Carousel Navigation\n    function scrollCarousel(direction) {\n      const carousel = document.getElementById('carousel');\n      const scrollAmount = carousel.offsetWidth;\n      carousel.scrollBy({ left: direction * scrollAmount, behavior: 'smooth' });\n    }\n\n    // Confirm Publish\n    function confirmPublish() {\n      const publishTime = document.getElementById('publishTime').value;\n      const url = '${n8nResumeUrl}';\n      const separator = url.includes('?') ? '&' : '?';\n      \n      if (publishTime) {\n        window.location.href = url + separator + 'action=confirm&publishTime=' + encodeURIComponent(publishTime);\n      } else {\n        window.location.href = url + separator + 'action=confirm';\n      }\n    }\n\n    // Cancel Publish\n    function cancelPublish() {\n      const url = '${n8nResumeUrl}';\n      const separator = url.includes('?') ? '&' : '?';\n      window.location.href = url + separator + 'action=cancel';\n    }\n  </script>\n</body>\n</html>`;\n\nreturn [{ json: { html } }];"
      },
      "id": "19412bd2-215a-414b-ab9c-63cd0df6f53a",
      "name": "ç”Ÿæˆé¢„è§ˆHTML",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3136,
        0
      ]
    },
    {
      "parameters": {
        "jsCode": "const allItems = $input.all();\n\nconst textItem = allItems[0]?.json || {};\nconst coverItem = allItems[1]?.json || {};\nconst contentImageItem = allItems[2]?.json || {};\n\nconst title = textItem.title || \"\";\nconst content = textItem.content || \"\";\n\n// ===== æ ‡ç­¾è§„èŒƒåŒ– =====\nlet tagsRaw = textItem.tags || [];\nlet tags = [];\n\n// æƒ…å†µ 1ï¼štags æ˜¯å­—ç¬¦ä¸² \"#a,#b\"\nif (typeof tagsRaw === \"string\") {\n  tags = tagsRaw\n    .split(\",\")\n    .map(t => t.trim())\n    .filter(Boolean);\n}\n\n// æƒ…å†µ 2ï¼štags æ˜¯æ•°ç»„ [\"a\", \"#b\"]\nif (Array.isArray(tagsRaw)) {\n  tags = tagsRaw.map(t => String(t).trim()).filter(Boolean);\n}\n\n// ç»Ÿä¸€è¡¥ #\ntags = tags.map(t => (t.startsWith(\"#\") ? t : `#${t}`));\n\n// ===== å›¾ç‰‡åˆå¹¶ =====\nconst images = [\n  coverItem?.data?.[0]?.url,\n  ...(contentImageItem?.data || []).map(i => i.url)\n].filter(Boolean);\n\n// ===== è¾“å‡º =====\nreturn [\n  {\n    json: {\n      title,\n      content,\n      tags,\n      images,\n      originalNoteId: textItem.originalNoteId || ''\n    }\n  }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2768,
        16
      ],
      "id": "00d1ac49-33c5-4d4e-a8f9-55e515b6d3c1",
      "name": "ç»„è£…æœ€ç»ˆå†…å®¹"
    },
    {
      "parameters": {
        "numberInputs": 3
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        2416,
        96
      ],
      "id": "1f7cf888-54ed-4358-b78c-84117c812909",
      "name": "åˆå¹¶å†…å®¹"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://ark.cn-beijing.volces.com/api/v3/images/generations",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpBearerAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n    \"model\": \"doubao-seedream-4-0-250828\",\n    \"prompt\": \"{{ $json.original_style_analysis }}\\n\\n{{ $json.content_images }}\\n\\nç”Ÿæˆ{{ $json.content_images_count }}å¼ \\n\\nç”Ÿæˆè¦æ±‚ï¼ˆå¿…é¡»ä¸¥æ ¼éµå®ˆï¼‰ï¼š\\n- å›¾ç‰‡ä¸­ä¸å‡ºç°ä¹±ç ã€å‡å­—ã€ä¸å¯è¯†åˆ«å­—ç¬¦ç­‰é”™è¯¯å†…å®¹\\n- å›¾ç‰‡ä¸­æ— ä»»ä½•å¹³å°æ ‡è¯†ã€è§’æ ‡ã€æ°´å°ã€Logoç­‰å…ƒç´ \\n- ä¿æŒä¸åŸç¬”è®°ç›¸ä¼¼çš„è§†è§‰é£æ ¼å’Œè‰²å½©æ–¹æ¡ˆ\\n- æ‰€æœ‰æè¿°å¿…é¡»è½¬åŒ–ä¸ºæ¸…æ™°ã€å…·ä½“ã€å¯è§†è§‰åŒ–çš„ç”»é¢å†…å®¹\\n- ä½¿ç”¨è§†è§‰éšå–»ï¼ˆå›¾æ ‡ã€æ„å›¾ã€è‰²å½©ï¼‰ä»£æ›¿æ–‡å­—\",\n    \"sequential_image_generation\": \"auto\",\n    \"sequential_image_generation_options\": {\"max_images\":4},\n    \"response_format\": \"url\",\n    \"size\": \"1728x2304\",\n    \"watermark\": false\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        2032,
        -272
      ],
      "id": "1eba2a0c-6f31-4958-93ee-c1db354446bc",
      "name": "ç”Ÿæˆå†…å®¹å›¾",
      "credentials": {
        "httpBearerAuth": {
          "id": "LbEnP8EQIlTtjOR6",
          "name": "ç«å±±-ç”Ÿå›¾-Bearer Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://ark.cn-beijing.volces.com/api/v3/images/generations",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpBearerAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n    \"model\": \"doubao-seedream-4-0-250828\",\n    \"prompt\": \"{{ $json.original_style_analysis }}\\n\\n{{ $json.cover_image }}\\n\\nç”Ÿæˆè¦æ±‚ï¼ˆå¿…é¡»ä¸¥æ ¼éµå®ˆï¼‰ï¼š\\n- ä¸å‡ºç°ä¹±ç ã€ä¸å‡ºç°å‡å­—\\n- æ— ä»»ä½•å¹³å°æ ‡è¯†ã€æ— è§’æ ‡ã€æ— æ°´å°ã€æ— Logo\\n- ä¿æŒä¸åŸç¬”è®°ç›¸ä¼¼çš„è§†è§‰é£æ ¼å’Œè‰²å½©æ–¹æ¡ˆ\\n- ä½¿ç”¨æ¸…æ™°ã€å…·ä½“ã€å¯è¢«ç”»é¢è¡¨è¾¾çš„æè¿°\",\n    \"response_format\": \"url\",\n    \"size\": \"1728x2304\",\n    \"watermark\": false\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        1920,
        -48
      ],
      "id": "f691ab73-eead-4cd7-9556-191f4a1574e6",
      "name": "ç”Ÿæˆå°é¢å›¾",
      "credentials": {
        "httpBearerAuth": {
          "id": "LbEnP8EQIlTtjOR6",
          "name": "ç«å±±-ç”Ÿå›¾-Bearer Auth"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// æ¸…ç†å¹¶è§£æé…å›¾ JSON è¾“å‡º\nconst raw = $json.response || $json.output || $json.text || '';\n\n// ç§»é™¤å¯èƒ½çš„ markdown ä»£ç å—æ ‡è®°\nlet cleaned = String(raw)\n  .replace(/^```json\\s*/i, '')\n  .replace(/^```\\s*/i, '')\n  .replace(/```\\s*$/i, '')\n  .trim();\n\n// è§£æ JSON\ntry {\n  const parsed = JSON.parse(cleaned);\n  return [{ json: parsed }];\n} catch (e) {\n  // å¦‚æœè§£æå¤±è´¥ï¼Œå°è¯•æå– JSON éƒ¨åˆ†\n  const match = cleaned.match(/\\{[\\s\\S]*\\}/);\n  if (match) {\n    try {\n      const parsed = JSON.parse(match[0]);\n      return [{ json: parsed }];\n    } catch (e2) {\n      throw new Error('é…å›¾JSONè§£æå¤±è´¥: ' + e2.message + '\\nåŸå§‹å†…å®¹: ' + raw);\n    }\n  }\n  throw new Error('æ— æ³•æ‰¾åˆ°æœ‰æ•ˆçš„é…å›¾JSONå†…å®¹\\nåŸå§‹å†…å®¹: ' + raw);\n}"
      },
      "id": "6c4d2103-feaf-47d4-bdd9-8c1743a0be89",
      "name": "å›¾ç‰‡Promptè§£æ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1712,
        -288
      ]
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ä½ æ˜¯ä¸€ä½è§†è§‰è®¾è®¡ä¸“å®¶ï¼Œæ“…é•¿åˆ†æå›¾ç‰‡é£æ ¼å¹¶ç”Ÿæˆç›¸ä¼¼é£æ ¼çš„æ–°å›¾ç‰‡æè¿°ã€‚\n\nã€åŸå§‹ç¬”è®°å›¾ç‰‡ã€‘\nå›¾ç‰‡æ•°é‡ï¼š{{ $json.originalImages.length }}\n\nã€æ–°ç¬”è®°ä¿¡æ¯ã€‘\næ ‡é¢˜ï¼š{{ $json.originalTitle }}\næ­£æ–‡ï¼š{{ $json.originalContent }}\n\nã€ä»»åŠ¡ã€‘\n1. åˆ†æåŸå§‹å›¾ç‰‡çš„é£æ ¼ç‰¹å¾ï¼š\n   - è‰²å½©æ–¹æ¡ˆï¼ˆä¸»è‰²è°ƒã€è‰²å½©é¥±å’Œåº¦ï¼‰\n   - æ„å›¾æ–¹å¼ï¼ˆä¸­å¿ƒæ„å›¾/å¯¹è§’çº¿/ä¸‰åˆ†æ³•ç­‰ï¼‰\n   - è§†è§‰å…ƒç´ ï¼ˆå›¾æ ‡ã€å›¾å½¢ã€æ–‡å­—æ’ç‰ˆç­‰ï¼‰\n   - æ•´ä½“é£æ ¼ï¼ˆæ¸…æ–°/ç§‘æŠ€æ„Ÿ/å¤å¤/ç®€çº¦ç­‰ï¼‰\n   - å›¾ç‰‡ç±»å‹ï¼ˆå®æ™¯å›¾/æ’ç”»/çº¯è‰²èƒŒæ™¯ç­‰ï¼‰\n\n2. åŸºäºæ–°ç¬”è®°çš„å†…å®¹å’ŒåŸå§‹å›¾ç‰‡çš„é£æ ¼ï¼Œç”Ÿæˆæ–°çš„å›¾ç‰‡æè¿°ï¼š\n   - ä¿æŒç›¸åŒçš„è§†è§‰é£æ ¼å’Œè‰²å½©æ–¹æ¡ˆ\n   - æ ¹æ®æ–°ç¬”è®°å†…å®¹è°ƒæ•´å…·ä½“çš„è§†è§‰å…ƒç´ \n   - ç¡®ä¿å›¾ç‰‡ä¸æ–°ç¬”è®°çš„ä¸»é¢˜é«˜åº¦ç›¸å…³\n   - ç”Ÿæˆ1å¼ å°é¢å›¾æè¿°\n   - ç”Ÿæˆ2-3å¼ å†…å®¹å›¾æè¿°\n\n3. è¾“å‡ºæ ¼å¼ï¼ˆä¸¥æ ¼JSONï¼‰ï¼š\n{\n  \"original_style_analysis\":\"\",\n  \"cover_image\": \"å°é¢å›¾æè¿°\",\n  \"content_images\": [\"å†…å®¹å›¾1æè¿°\", \"å†…å®¹å›¾2æè¿°\"],\n  \"content_images_count\": 4\n}\n\nâš ï¸ æ³¨æ„ï¼š\n- è¯·å¿«é€Ÿç”Ÿæˆï¼Œä¸éœ€è¦è§£é‡Šï¼Œä¸éœ€è¦åˆ†æã€‚\n- åªè¾“å‡ºJSONï¼Œä¸è¦ä»»ä½•è§£é‡Š\n- æè¿°è¦å…·ä½“ã€å¯è§†è§‰åŒ–\n- ä¸è¦å‡ºç°emojiç­‰ç‰¹æ®Šå­—ç¬¦\n- ä¸ç”Ÿæˆå¹³å°logoã€æ°´å°",
        "hasOutputParser": true
      },
      "id": "80228a37-3ea0-4357-a431-96c15b85bc62",
      "name": "ç”Ÿæˆå…‹éš†å›¾ç‰‡Prompt",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.6,
      "position": [
        1024,
        -448
      ]
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "doubao-seed-1-6-lite-251015",
          "mode": "list",
          "cachedResultName": "doubao-seed-1-6-lite-251015"
        },
        "builtInTools": {},
        "options": {
          "timeout": 60000
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        1024,
        -272
      ],
      "id": "62e14155-81fe-444a-9ce8-25290fa17832",
      "name": "ç«å±±-db1.8-img",
      "credentials": {
        "openAiApi": {
          "id": "3iRvcAcvDVdKLy4T",
          "name": "ç«å±±å¼•æ“-æ–‡æœ¬"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// æ¸…ç†å¹¶è§£æ JSON è¾“å‡º\nconst raw = $json.response || $json.output || $json.text || '';\n\n// ç§»é™¤å¯èƒ½çš„ markdown ä»£ç å—æ ‡è®°\nlet cleaned = String(raw)\n  .replace(/^```json\\s*/i, '')\n  .replace(/^```\\s*/i, '')\n  .replace(/```\\s*$/i, '')\n  .trim();\n\n// è§£æ JSON\ntry {\n  const parsed = JSON.parse(cleaned);\n  return [{ json: parsed }];\n} catch (e) {\n  // å¦‚æœè§£æå¤±è´¥ï¼Œå°è¯•æå– JSON éƒ¨åˆ†\n  const match = cleaned.match(/\\{[\\s\\S]*\\}/);\n  if (match) {\n    try {\n      const parsed = JSON.parse(match[0]);\n      return [{ json: parsed }];\n    } catch (e2) {\n      throw new Error('JSON è§£æå¤±è´¥: ' + e2.message + '\\nåŸå§‹å†…å®¹: ' + raw);\n    }\n  }\n  throw new Error('æ— æ³•æ‰¾åˆ°æœ‰æ•ˆçš„ JSON å†…å®¹\\nåŸå§‹å†…å®¹: ' + raw);\n}"
      },
      "id": "c7f143d7-b432-47b4-aaa8-eceac4889c24",
      "name": "æ–‡æ¡ˆJSONè§£æ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1344,
        32
      ]
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ä½ æ˜¯ä¸€ä½å°çº¢ä¹¦å†…å®¹åˆ›ä½œä¸“å®¶ï¼Œæ“…é•¿åˆ›ä½œä¸å‚è€ƒç¬”è®°é£æ ¼ç›¸ä¼¼ä½†å†…å®¹åŸåˆ›çš„ç¬”è®°ã€‚\n\nã€åŸå§‹ç¬”è®°ä¿¡æ¯ã€‘\næ ‡é¢˜ï¼š{{ $json.originalTitle }}\n\næ­£æ–‡ï¼š\n{{ $json.originalContent }}\n\næ ‡ç­¾ï¼š{{ $json.originalTags.join(' ') }}\n\nã€åˆ›ä½œè¦æ±‚ã€‘\n1. æ·±åº¦åˆ†æåŸå§‹ç¬”è®°çš„ï¼š\n   - æ ¸å¿ƒä¸»é¢˜å’Œè§‚ç‚¹\n   - å†™ä½œé£æ ¼ï¼ˆå£è¯­åŒ–/æ­£å¼/å¹½é»˜/å¹²è´§ç­‰ï¼‰\n   - å†…å®¹ç»“æ„ï¼ˆå¼€å¤´/ä¸­é—´/ç»“å°¾ï¼‰\n   - å—ä¼—å®šä½\n   - è¡¨è¾¾æ–¹å¼ï¼ˆæ˜¯å¦ä½¿ç”¨emojiã€åˆ†æ®µæ–¹å¼ç­‰ï¼‰\n\n2. åŸºäºä¸Šè¿°åˆ†æï¼Œåˆ›ä½œä¸€ç¯‡å…¨æ–°çš„ç¬”è®°ï¼š\n   - ä¸»é¢˜ä¸åŸç¬”è®°ç›¸ä¼¼ï¼Œä½†å†…å®¹å¿…é¡»å®Œå…¨åŸåˆ›\n   - ä¿æŒç›¸åŒçš„å†™ä½œé£æ ¼å’Œå—ä¼—å®šä½\n   - ä½¿ç”¨ç›¸ä¼¼çš„ç»“æ„å’Œè¡¨è¾¾æ–¹å¼\n   - å­—æ•°æ§åˆ¶åœ¨åŸç¬”è®°å­—æ•°çš„80%-120%\n   - æ ‡é¢˜é‡‡ç”¨ç›¸åŒçš„å¸å¼•æ–¹å¼ï¼ˆå¦‚äºŒæç®¡æ ‡é¢˜æ³•ï¼‰\n\n3. ç”Ÿæˆ5ä¸ªç›¸å…³æ ‡ç­¾\n\n4. è¾“å‡ºæ ¼å¼ï¼ˆä¸¥æ ¼JSONï¼‰ï¼š\n{\n  \"title\": \"æ–°æ ‡é¢˜\",\n  \"content\": \"æ–°æ­£æ–‡å†…å®¹\",\n  \"tags\": [\"#æ ‡ç­¾1\", \"#æ ‡ç­¾2\", \"#æ ‡ç­¾3\", \"#æ ‡ç­¾4\", \"#æ ‡ç­¾5\"]\n}\n\nâš ï¸ æ³¨æ„ï¼š\n- åªè¾“å‡ºJSONï¼Œä¸è¦ä»»ä½•è§£é‡Š\n- å†…å®¹å¿…é¡»åŸåˆ›ï¼Œä¸èƒ½ç›´æ¥å¤åˆ¶åŸæ–‡\n- ä¿æŒç›¸ä¼¼çš„é£æ ¼ä½†ä¸åŒçš„è¡¨è¾¾",
        "hasOutputParser": true
      },
      "id": "35aa49ce-e105-470c-9755-915e1b58fa15",
      "name": "ç”Ÿæˆå…‹éš†æ–‡æ¡ˆ",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.6,
      "position": [
        976,
        -96
      ]
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "glm-4-7-251222",
          "mode": "list",
          "cachedResultName": "glm-4-7-251222"
        },
        "builtInTools": {},
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        960,
        64
      ],
      "id": "e707177d-5dc3-45a2-95f6-3a28f360755b",
      "name": "ç«å±±-db1.8",
      "credentials": {
        "openAiApi": {
          "id": "3iRvcAcvDVdKLy4T",
          "name": "ç«å±±å¼•æ“-æ–‡æœ¬"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const root = $input.first().json;\n\n// å®‰å…¨å– content[0]\nconst contentBlock = root?.content?.[0];\nconst textBlock = contentBlock?.text;\nconst data = textBlock?.data || {};\nconst note = data.note || {};\n\n// ===== åŸºç¡€å­—æ®µ =====\nconst originalTitle = note.title || '';\nconst originalContent = note.desc || '';\nconst originalNoteId = note.noteId || '';\nconst xsecToken = note.xsecToken || '';\n\n// ===== å›¾ç‰‡ =====\nconst originalImages = Array.isArray(note.imageList)\n  ? note.imageList.map(img => img.urlDefault || img.urlPre).filter(Boolean)\n  : [];\n\n// ===== æ ‡ç­¾ï¼ˆä»æ­£æ–‡ä¸­æå– #è¯é¢˜ï¼‰=====\nlet originalTags = [];\nif (typeof originalContent === 'string') {\n  const tagMatches = originalContent.match(/#([^#\\[\\]\\s]+)\\[è¯é¢˜\\]/g);\n  if (tagMatches) {\n    originalTags = tagMatches.map(t =>\n      '#' + t.replace(/[#\\[\\]è¯é¢˜]/g, '')\n    );\n  }\n}\n\n// ===== è¾“å‡º =====\nreturn [\n  {\n    json: {\n      originalTitle,\n      originalContent,\n      originalImages,\n      originalTags,\n      noteId: originalNoteId,\n      xsec_token: xsecToken\n    }\n  }\n];\n"
      },
      "id": "befd9e1f-b365-4f70-a229-5264e2a0d8f0",
      "name": "æå–ç¬”è®°ä¿¡æ¯",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        672,
        0
      ]
    },
    {
      "parameters": {
        "endpointUrl": "http://47.109.91.65:18060/mcp",
        "tool": {
          "__rl": true,
          "value": "get_feed_detail",
          "mode": "list",
          "cachedResultName": "get_feed_detail"
        },
        "parameters": {
          "mappingMode": "defineBelow",
          "value": {
            "feed_id": "={{ $json.noteId }}",
            "xsec_token": "={{ $json.xsec_token }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "click_more_replies",
              "displayName": "click_more_replies",
              "defaultMatch": false,
              "required": false,
              "display": true,
              "type": "boolean",
              "removed": true
            },
            {
              "id": "feed_id",
              "displayName": "feed_id",
              "defaultMatch": false,
              "required": true,
              "display": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "limit",
              "displayName": "limit",
              "defaultMatch": false,
              "required": false,
              "display": true,
              "type": "number",
              "removed": true
            },
            {
              "id": "load_all_comments",
              "displayName": "load_all_comments",
              "defaultMatch": false,
              "required": false,
              "display": true,
              "type": "boolean",
              "removed": true
            },
            {
              "id": "reply_limit",
              "displayName": "reply_limit",
              "defaultMatch": false,
              "required": false,
              "display": true,
              "type": "number",
              "removed": true
            },
            {
              "id": "scroll_speed",
              "displayName": "scroll_speed",
              "defaultMatch": false,
              "required": false,
              "display": true,
              "type": "string",
              "removed": true
            },
            {
              "id": "xsec_token",
              "displayName": "xsec_token",
              "defaultMatch": false,
              "required": true,
              "display": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.mcpClient",
      "typeVersion": 1,
      "position": [
        448,
        0
      ],
      "id": "cc931fb2-1214-45e6-9547-be1ab2bf37b4",
      "name": "è·å–ç¬”è®°å†…å®¹"
    },
    {
      "parameters": {
        "jsCode": "// 1ï¸âƒ£ è¯»å–ç”¨æˆ·è¾“å…¥çš„ URLï¼ˆå…¼å®¹ body / query / ç›´æ¥å­—æ®µï¼‰\nconst raw =\n  $json.body?.url ||\n  $json.query?.url ||\n  $json.url ||\n  \"\";\n\n// æ¸…ç† URL\nconst url = raw.trim();\n\nif (!url) {\n  throw new Error(\"âŒ è¯·æä¾›å°çº¢ä¹¦ç¬”è®° URL\");\n}\n\n// 2ï¸âƒ£ æ ¡éªŒæ˜¯å¦ä¸ºå°çº¢ä¹¦é“¾æ¥\nif (!url.includes(\"xiaohongshu.com\") && !url.includes(\"xhslink.com\")) {\n  throw new Error(\"âŒ è¯·æä¾›æœ‰æ•ˆçš„å°çº¢ä¹¦ç¬”è®° URL\");\n}\n\n// 3ï¸âƒ£ æå– noteIdï¼ˆæ”¯æŒ explore / discovery / noteId å‚æ•°ï¼‰\nlet noteId = \"\";\n\n// å¸¸è§è·¯å¾„å½¢å¼\nconst noteIdPatterns = [\n  /\\/explore\\/([a-f0-9]+)/i,\n  /\\/discovery\\/item\\/([a-f0-9]+)/i,\n  /noteId=([a-f0-9]+)/i\n];\n\nfor (const pattern of noteIdPatterns) {\n  const match = url.match(pattern);\n  if (match) {\n    noteId = match[1];\n    break;\n  }\n}\n\nif (!noteId) {\n  throw new Error(\"âŒ æ— æ³•ä» URL ä¸­æå–ç¬”è®° noteId\");\n}\n\n// 4ï¸âƒ£ æå– xsec_tokenï¼ˆURL å‚æ•°ï¼‰\nlet xsec_token = \"\";\n\nconst tokenMatch = url.match(/[?&]xsec_token=([^&]+)/i);\nif (tokenMatch) {\n  xsec_token = decodeURIComponent(tokenMatch[1]);\n}\n\nif (!xsec_token) {\n  throw new Error(\"âŒ URL ä¸­ç¼ºå°‘ xsec_token å‚æ•°\");\n}\n\n// 5ï¸âƒ£ è¾“å‡ºç»Ÿä¸€ç»“æ„\nreturn [\n  {\n    json: {\n      url,\n      noteId,\n      xsec_token\n    }\n  }\n];\n"
      },
      "id": "8c5d3590-232b-4d82-8262-7e2cf41a9676",
      "name": "è§£æç¬”è®°URL",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        0
      ]
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "xhs-clone-generate",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "42a87741-46ca-4566-b1cf-20be7231bd7b",
      "name": "å…‹éš†å…¥å£",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        0,
        0
      ],
      "webhookId": "xhs-clone-webhook"
    },
    {
      "parameters": {
        "jsCode": "// 1. æ„é€  HTML è¡¨å•\n// action æŒ‡å‘å®é™…å¤„ç†çš„ Webhook UUID è·¯å¾„\nconst targetWebhook = 'xhs-clone-generate';\n\nconst html = `\n<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>å°çº¢ä¹¦ç¬”è®°å…‹éš†</title>\n  <style>\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, \"PingFang SC\", \"Microsoft YaHei\", sans-serif;\n      background-color: #f7f7f7;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      min-height: 100vh;\n      margin: 0;\n    }\n    .container {\n      background: white;\n      padding: 2rem;\n      border-radius: 16px;\n      box-shadow: 0 4px 20px rgba(0,0,0,0.08);\n      width: 100%;\n      max-width: 500px;\n    }\n    h2 {\n      text-align: center;\n      color: #333;\n      margin-bottom: 1.5rem;\n    }\n    textarea {\n      width: 100%;\n      height: 200px;\n      padding: 1rem;\n      border: 2px solid #eee;\n      border-radius: 12px;\n      font-size: 16px;\n      resize: vertical;\n      outline: none;\n      box-sizing: border-box;\n      transition: border-color 0.3s;\n    }\n    textarea:focus {\n      border-color: #ff2442;\n    }\n    button {\n      width: 100%;\n      padding: 1rem;\n      margin-top: 1.5rem;\n      background-color: #ff2442;\n      color: white;\n      border: none;\n      border-radius: 12px;\n      font-size: 18px;\n      font-weight: bold;\n      cursor: pointer;\n      transition: background-color 0.3s, transform 0.1s;\n    }\n    button:hover {\n      background-color: #e02038;\n    }\n    button:active {\n      transform: scale(0.98);\n    }\n    .tip {\n      margin-top: 1rem;\n      font-size: 0.9rem;\n      color: #888;\n      text-align: center;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <h2>ğŸ“ å°çº¢ä¹¦ç¬”è®°ç”Ÿæˆ</h2>\n    <form action=\"${targetWebhook}\" method=\"POST\">\n      <textarea name=\"url\" placeholder=\"è¯·è¾“å…¥å°çº¢ä¹¦ç¬”è®°URL\" required></textarea>\n      <button type=\"submit\">âœ¨ å¼€å§‹ç”Ÿæˆé¢„è§ˆ</button>\n      <p class=\"tip\">ç”Ÿæˆå¯èƒ½éœ€è¦ 15-30 ç§’ï¼Œè¯·è€å¿ƒç­‰å¾…è·³è½¬...</p>\n    </form>\n  </div>\n</body>\n</html>\n`;\n\nreturn { html };"
      },
      "id": "f33b4cbb-29d5-44d0-810d-6321e377aff0",
      "name": "æ„é€ è¡¨å•HTML",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        80,
        -448
      ]
    },
    {
      "parameters": {
        "respondWith": "text",
        "responseBody": "={{ $json.html }}",
        "options": {
          "responseHeaders": {
            "entries": [
              {
                "name": "Content-Type",
                "value": "text/html"
              }
            ]
          }
        }
      },
      "id": "40ee8dc8-f21e-48ea-b18d-d6cebc780a2a",
      "name": "æ˜¾ç¤ºè¾“å…¥è¡¨å•",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1,
      "position": [
        192,
        -448
      ]
    },
    {
      "parameters": {
        "path": "xhs-start-clone",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "4a73edb8-c44b-4863-bfea-27cb1b20b355",
      "name": "è¡¨å•å…¥å£",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [
        -32,
        -448
      ],
      "webhookId": "14d9711a-7ca9-4be8-92ad-67f7a8c3ba9e"
    }
  ],
  "pinData": {
    "å…‹éš†å…¥å£": [
      {
        "json": {
          "headers": {
            "host": "n8n-ryneirky.us-east-1.clawcloudrun.com",
            "content-length": "162",
            "cache-control": "max-age=0",
            "sec-ch-ua": "\"Google Chrome\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"",
            "sec-ch-ua-mobile": "?0",
            "sec-ch-ua-platform": "\"Windows\"",
            "origin": "null",
            "content-type": "application/x-www-form-urlencoded",
            "upgrade-insecure-requests": "1",
            "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36",
            "accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7",
            "sec-fetch-site": "cross-site",
            "sec-fetch-mode": "navigate",
            "sec-fetch-user": "?1",
            "sec-fetch-dest": "document",
            "accept-encoding": "gzip, deflate, br, zstd",
            "accept-language": "en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7",
            "priority": "u=0, i",
            "x-forwarded-for": "140.238.37.247",
            "x-forwarded-proto": "https",
            "x-envoy-original-host": "n8n-ryneirky.us-east-1.clawcloudrun.com",
            "x-envoy-external-address": "140.238.37.247",
            "x-request-id": "b77a2262-98cb-4cfb-8b3d-3d8a2aff988f",
            "x-envoy-decorator-operation": "n8n-zefsijen.ns-2gv6lw1y.svc.cluster.local:5678/()(.*).*",
            "x-envoy-attempt-count": "1",
            "req-start-time": "1768964189672",
            "x-real-ip": "140.238.37.247",
            "x-envoy-route-identifier": "true"
          },
          "params": {},
          "query": {},
          "body": {
            "url": "https://www.xiaohongshu.com/explore/696f21c8000000001a01fb86?xsec_token=AB8Esr9JzC0ivU-ahqyZkrA9Tl3xmVv_So9kWAesdSK5c=&xsec_source=pc_user"
          },
          "webhookUrl": "https://n8n-ryneirky.us-east-1.clawcloudrun.com/webhook/xhs-clone-generate",
          "executionMode": "production"
        },
        "pairedItem": {
          "item": 0
        }
      }
    ]
  },
  "connections": {
    "âœ…ç¡®è®¤å‘å¸ƒ": {
      "main": [
        [
          {
            "node": "ç”Ÿæˆé¢„è§ˆHTML",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "â°å®šæ—¶å‘å¸ƒ": {
      "main": [
        [
          {
            "node": "å‘å¸ƒåˆ°å°çº¢ä¹¦",
            "type": "main",
            "index": 0
          },
          {
            "node": "ä¿å­˜åˆ°æ•°æ®è¡¨",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "â³ç­‰å¾…ç¡®è®¤": {
      "main": [
        [
          {
            "node": "â°å®šæ—¶å‘å¸ƒ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å‘é€é¢„è§ˆ": {
      "main": [
        [
          {
            "node": "â³ç­‰å¾…ç¡®è®¤",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç”Ÿæˆé¢„è§ˆHTML": {
      "main": [
        [
          {
            "node": "å‘é€é¢„è§ˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç»„è£…æœ€ç»ˆå†…å®¹": {
      "main": [
        [
          {
            "node": "âœ…ç¡®è®¤å‘å¸ƒ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åˆå¹¶å†…å®¹": {
      "main": [
        [
          {
            "node": "ç»„è£…æœ€ç»ˆå†…å®¹",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç”Ÿæˆå†…å®¹å›¾": {
      "main": [
        [
          {
            "node": "åˆå¹¶å†…å®¹",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "ç”Ÿæˆå°é¢å›¾": {
      "main": [
        [
          {
            "node": "åˆå¹¶å†…å®¹",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "å›¾ç‰‡Promptè§£æ": {
      "main": [
        [
          {
            "node": "ç”Ÿæˆå†…å®¹å›¾",
            "type": "main",
            "index": 0
          },
          {
            "node": "ç”Ÿæˆå°é¢å›¾",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç”Ÿæˆå…‹éš†å›¾ç‰‡Prompt": {
      "main": [
        [
          {
            "node": "å›¾ç‰‡Promptè§£æ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç«å±±-db1.8-img": {
      "ai_languageModel": [
        [
          {
            "node": "ç”Ÿæˆå…‹éš†å›¾ç‰‡Prompt",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "æ–‡æ¡ˆJSONè§£æ": {
      "main": [
        [
          {
            "node": "åˆå¹¶å†…å®¹",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç”Ÿæˆå…‹éš†æ–‡æ¡ˆ": {
      "main": [
        [
          {
            "node": "æ–‡æ¡ˆJSONè§£æ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç«å±±-db1.8": {
      "ai_languageModel": [
        [
          {
            "node": "ç”Ÿæˆå…‹éš†æ–‡æ¡ˆ",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "æå–ç¬”è®°ä¿¡æ¯": {
      "main": [
        [
          {
            "node": "ç”Ÿæˆå…‹éš†å›¾ç‰‡Prompt",
            "type": "main",
            "index": 0
          },
          {
            "node": "ç”Ÿæˆå…‹éš†æ–‡æ¡ˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è·å–ç¬”è®°å†…å®¹": {
      "main": [
        [
          {
            "node": "æå–ç¬”è®°ä¿¡æ¯",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è§£æç¬”è®°URL": {
      "main": [
        [
          {
            "node": "è·å–ç¬”è®°å†…å®¹",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å…‹éš†å…¥å£": {
      "main": [
        [
          {
            "node": "è§£æç¬”è®°URL",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ„é€ è¡¨å•HTML": {
      "main": [
        [
          {
            "node": "æ˜¾ç¤ºè¾“å…¥è¡¨å•",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è¡¨å•å…¥å£": {
      "main": [
        [
          {
            "node": "æ„é€ è¡¨å•HTML",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "55bc4c2f-4308-47c1-9aa6-c44ed355cea9",
  "meta": {
    "instanceId": "24d1029a95c23bce7943e6b7ccf730ff90a74df4094f4f597034760d7c386159"
  },
  "id": "jMrsv6mHVFA9zBOPyYtsl",
  "tags": []
}